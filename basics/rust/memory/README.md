# メモリー

- メモリーアクセス方法に2つ、スタックとヒープがある
  - スタック
    - サイズが既知のデータに決められた順序でアクセス
    - LIFO
    - 固定長で既知のサイズのため、一定のメモリーを確保して素早く見つけられる
  - ヒープ
    - 値のサイズは時間と共に変化し得る
    - 伸長可能
- https://keens.github.io/blog/2017/04/30/memoritosutakkutohi_puto/
  - メモリーは1つの巨大な配列
    - サイズは決まっている
    - stack
      - 関数呼び出しのために使われる
      - コールスタックとよく言うように、関数呼び出しはスタック構造になっている
      - 関数のローカル変数のようなデータもここに入る
    - heap
      - stackに置けないデータを置く
      - 領域管理 → malloc
      - 自由に確保、解放、サイズ変更できるけど、その分管理コストはかかる
    - bss
    - data
    - text
  - GCのある言語だと、heapの上に自前で構築したメモリー管理システムをヒープと呼んだりする
- https://garasubo.github.io/hexo/2021/11/07/rust-memory.html
  - https://gihyo.jp/magazine/SD/archive/2021/202109
  - C言語だとmallocなどで手動でメモリー管理
    - メモリー効率は良くなるけど、プログラムが複雑になってミスが起きやすい
  - pythonやrubyなどは、GCでメモリー管理
    - 適当なタイミングで使用中のメモリーをチェックして、不要なメモリーを解放
      - GCのタイミングまでメモリー確保したり、効率は良くない
  - rustは、手動管理とGCの両方の課題を、所有権およびライフタイムで解決する
- https://tourofrust.com/25_ja.html